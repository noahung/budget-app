(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{10176:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>b});var t=s(95155),r=s(12115),n=s(35695),i=s(81929),l=s(35317),o=s(52955),d=s(30285),u=s(62523),c=s(85057),f=s(66695),p=s(59409),m=s(87481),h=s(40157);let D=(0,h.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var x=s(91721);let v=(0,h.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var g=s(6874),y=s.n(g);function b(){let{user:e,isUserLoading:a,firestore:s}=(0,i.D3)(),h=(0,n.useRouter)(),{toast:g}=(0,m.dj)(),b=(0,i.$e)(()=>e?(0,l.H9)(s,"users",e.uid,"profile","data"):null,[s,e]),{data:j,isLoading:N}=(0,i.uN)(b),[C,w]=(0,r.useState)(1),[S,E]=(0,r.useState)(""),[R,A]=(0,r.useState)(""),[F,T]=(0,r.useState)("USD"),[P,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a||e||h.push("/login")},[e,a,h]),(0,r.useEffect)(()=>{j&&(w(j.householdSize||1),E(j.location||""),A(j.occupation||""),T(j.currency||"USD"))},[j]);let M=async()=>{if(b){I(!0);try{await (0,o.wu)(b,{householdSize:C,location:S,occupation:R,currency:F},{merge:!0}),g({title:"Profile saved!",description:"Your profile has been updated successfully."})}catch(e){g({title:"Error saving profile",description:"There was an error saving your profile. Please try again.",variant:"destructive"})}finally{I(!1)}}};return a||!e?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)("p",{children:"Loading..."})}):(0,t.jsxs)("main",{className:"container mx-auto p-4 md:p-8 max-w-2xl",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(y(),{href:"/",children:(0,t.jsxs)(d.$,{variant:"ghost",className:"gap-2",children:[(0,t.jsx)(D,{className:"h-4 w-4"}),"Back to Dashboard"]})})}),(0,t.jsxs)(f.Zp,{className:"shadow-neumorphic",children:[(0,t.jsx)(f.aR,{children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(x.A,{className:"w-8 h-8 text-primary"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.ZB,{children:"Profile Settings"}),(0,t.jsx)(f.BT,{children:"Manage your profile information for personalized AI recommendations"})]})]})}),(0,t.jsxs)(f.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"household-size",children:"Number of People in Household"}),(0,t.jsx)(u.p,{id:"household-size",type:"number",min:"1",value:C,onChange:e=>w(parseInt(e.target.value)||1),className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"location",children:"Location (City, State/Country)"}),(0,t.jsx)(u.p,{id:"location",type:"text",placeholder:"e.g., San Francisco, CA",value:S,onChange:e=>E(e.target.value),className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"occupation",children:"Occupation"}),(0,t.jsx)(u.p,{id:"occupation",type:"text",placeholder:"e.g., Software Engineer",value:R,onChange:e=>A(e.target.value),className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.J,{htmlFor:"currency",children:"Currency"}),(0,t.jsxs)(p.l6,{value:F,onValueChange:T,children:[(0,t.jsx)(p.bq,{id:"currency",className:"shadow-neumorphic-inset border-none focus:ring-primary",children:(0,t.jsx)(p.yv,{placeholder:"Select currency"})}),(0,t.jsxs)(p.gC,{children:[(0,t.jsx)(p.eb,{value:"USD",children:"\uD83C\uDDFA\uD83C\uDDF8 USD - US Dollar"}),(0,t.jsx)(p.eb,{value:"EUR",children:"\uD83C\uDDEA\uD83C\uDDFA EUR - Euro"}),(0,t.jsx)(p.eb,{value:"GBP",children:"\uD83C\uDDEC\uD83C\uDDE7 GBP - British Pound"}),(0,t.jsx)(p.eb,{value:"JPY",children:"\uD83C\uDDEF\uD83C\uDDF5 JPY - Japanese Yen"}),(0,t.jsx)(p.eb,{value:"CNY",children:"\uD83C\uDDE8\uD83C\uDDF3 CNY - Chinese Yuan"}),(0,t.jsx)(p.eb,{value:"INR",children:"\uD83C\uDDEE\uD83C\uDDF3 INR - Indian Rupee"}),(0,t.jsx)(p.eb,{value:"AUD",children:"\uD83C\uDDE6\uD83C\uDDFA AUD - Australian Dollar"}),(0,t.jsx)(p.eb,{value:"CAD",children:"\uD83C\uDDE8\uD83C\uDDE6 CAD - Canadian Dollar"}),(0,t.jsx)(p.eb,{value:"SGD",children:"\uD83C\uDDF8\uD83C\uDDEC SGD - Singapore Dollar"}),(0,t.jsx)(p.eb,{value:"CHF",children:"\uD83C\uDDE8\uD83C\uDDED CHF - Swiss Franc"}),(0,t.jsx)(p.eb,{value:"KRW",children:"\uD83C\uDDF0\uD83C\uDDF7 KRW - South Korean Won"}),(0,t.jsx)(p.eb,{value:"THB",children:"\uD83C\uDDF9\uD83C\uDDED THB - Thai Baht"}),(0,t.jsx)(p.eb,{value:"MYR",children:"\uD83C\uDDF2\uD83C\uDDFE MYR - Malaysian Ringgit"}),(0,t.jsx)(p.eb,{value:"VND",children:"\uD83C\uDDFB\uD83C\uDDF3 VND - Vietnamese Dong"}),(0,t.jsx)(p.eb,{value:"IDR",children:"\uD83C\uDDEE\uD83C\uDDE9 IDR - Indonesian Rupiah"}),(0,t.jsx)(p.eb,{value:"PHP",children:"\uD83C\uDDF5\uD83C\uDDED PHP - Philippine Peso"}),(0,t.jsx)(p.eb,{value:"MMK",children:"\uD83C\uDDF2\uD83C\uDDF2 MMK - Myanmar Kyat"})]})]})]}),(0,t.jsxs)(d.$,{onClick:M,disabled:P,className:"w-full shadow-neumorphic active:shadow-neumorphic-inset",children:[(0,t.jsx)(v,{className:"mr-2 h-4 w-4"}),P?"Saving...":"Save Profile"]})]})]})]})}},30285:(e,a,s)=>{"use strict";s.d(a,{$:()=>d});var t=s(95155),r=s(12115),n=s(66634),i=s(74466),l=s(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:i,asChild:d=!1,...u}=e,c=d?n.DX:"button";return(0,t.jsx)(c,{className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:a,...u})});d.displayName="Button"},58819:(e,a,s)=>{Promise.resolve().then(s.bind(s,10176))},59409:(e,a,s)=>{"use strict";s.d(a,{bq:()=>f,eb:()=>D,gC:()=>h,l6:()=>u,yv:()=>c});var t=s(95155),r=s(12115),n=s(11031),i=s(79556),l=s(77381),o=s(10518),d=s(59434);let u=n.bL;n.YJ;let c=n.WT,f=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(n.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,t.jsx)(n.In,{asChild:!0,children:(0,t.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=n.l9.displayName;let p=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=n.PP.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})});m.displayName=n.wn.displayName;let h=r.forwardRef((e,a)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,t.jsx)(n.ZL,{children:(0,t.jsxs)(n.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,t.jsx)(p,{}),(0,t.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(m,{})]})})});h.displayName=n.UC.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=n.JU.displayName;let D=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(n.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(n.VF,{children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(n.p4,{children:r})]})});D.displayName=n.q7.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=n.wv.displayName},62523:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,type:r,...i}=e;return(0,t.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...i})});i.displayName="Input"},66695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>d,Wu:()=>u,ZB:()=>o,Zp:()=>i,aR:()=>l});var t=s(95155),r=s(12115),n=s(59434);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});i.displayName="Card";let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});o.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",s),...r})});u.displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},85057:(e,a,s)=>{"use strict";s.d(a,{J:()=>d});var t=s(95155),r=s(12115),n=s(40968),i=s(74466),l=s(59434);let o=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(n.b,{ref:a,className:(0,l.cn)(o(),s),...r})});d.displayName=n.b.displayName},87481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>f});var t=s(12115);let r=0,n=new Map,i=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],d={toasts:[]};function u(e){d=l(d,e),o.forEach(e=>{e(d)})}function c(e){let{...a}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>u({type:"DISMISS_TOAST",toastId:s});return u({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,a]=t.useState(d);return t.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,644,530,506,558,769,441,684,358],()=>a(58819)),_N_E=e.O()}]);