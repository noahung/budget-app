(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{22799:(e,r,t)=>{Promise.resolve().then(t.bind(t,81940))},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var n=t(95155),s=t(12115),a=t(66634),l=t(74466),o=t(59434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:c=!1,...d}=e,u=c?a.DX:"button";return(0,n.jsx)(u,{className:(0,o.cn)(i({variant:s,size:l,className:t})),ref:r,...d})});c.displayName="Button"},62523:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var n=t(95155),s=t(12115),a=t(59434);let l=s.forwardRef((e,r)=>{let{className:t,type:s,...l}=e;return(0,n.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>d,ZB:()=>i,Zp:()=>l,aR:()=>o});var n=t(95155),s=t(12115),a=t(59434);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});l.displayName="Card";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});i.displayName="CardTitle";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",t),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter"},81940:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>H});var n=t(95155),s=t(12115),a=t(35695),l=t(96454),o=t(19591),i=t(66695),c=t(62523),d=t(85057);function u(e){let{income:r,setIncome:t}=e;return(0,n.jsxs)(i.Zp,{className:"shadow-neumorphic border-none",children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(o.A,{className:"w-8 h-8 text-primary"}),(0,n.jsxs)("div",{children:[(0,n.jsx)(i.ZB,{children:"Monthly Income"}),(0,n.jsx)(i.BT,{children:"Enter your total monthly income after tax."})]})]})}),(0,n.jsx)(i.Wu,{children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.J,{htmlFor:"income",className:"absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold text-muted-foreground",children:"\xa3"}),(0,n.jsx)(c.p,{id:"income",type:"number",value:r||"",onChange:e=>t(parseFloat(e.target.value)),placeholder:"2500",className:"shadow-neumorphic-inset border-none text-2xl font-bold h-16 pl-10 focus-visible:ring-primary","aria-label":"Monthly income input"})]})})]})}var m=t(59114),h=t(18046),x=t(77223),f=t(30285),p=t(87489),g=t(59434);let v=s.forwardRef((e,r)=>{let{className:t,orientation:s="horizontal",decorative:a=!0,...l}=e;return(0,n.jsx)(p.b,{ref:r,decorative:a,orientation:s,className:(0,g.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...l})});function b(e){let{bills:r,addBill:t,deleteBill:a}=e,l=s.useRef(null),o=r||[];return(0,n.jsxs)(i.Zp,{className:"shadow-neumorphic border-none",children:[(0,n.jsx)(i.aR,{children:(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(m.A,{className:"w-8 h-8 text-primary"}),(0,n.jsxs)("div",{children:[(0,n.jsx)(i.ZB,{children:"Monthly Bills"}),(0,n.jsx)(i.BT,{children:"Add or remove your recurring bills."})]})]})}),(0,n.jsxs)(i.Wu,{children:[(0,n.jsxs)("form",{ref:l,onSubmit:e=>{var r;e.preventDefault();let n=new FormData(e.currentTarget),s=n.get("billName");t(s,parseFloat(n.get("billAmount")),parseInt(n.get("paymentDate"),10)),null==(r=l.current)||r.reset()},className:"grid grid-cols-1 sm:grid-cols-3 gap-2 mb-6",children:[(0,n.jsx)(c.p,{name:"billName",placeholder:"Bill name (e.g., Internet)",required:!0,className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"}),(0,n.jsx)(c.p,{name:"billAmount",type:"number",placeholder:"Amount",required:!0,min:"0.01",step:"0.01",className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"}),(0,n.jsx)(c.p,{name:"paymentDate",type:"number",placeholder:"Payment day (1-31)",required:!0,min:"1",max:"31",step:"1",className:"shadow-neumorphic-inset border-none focus-visible:ring-primary"}),(0,n.jsxs)(f.$,{type:"submit",className:"shadow-neumorphic active:shadow-neumorphic-inset sm:col-span-3",children:[(0,n.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Add Bill"]})]}),(0,n.jsx)(v,{className:"my-4 bg-border/60"}),(0,n.jsx)("div",{className:"space-y-4",children:0===o.length?(0,n.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No bills added yet."}):o.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg transition-colors hover:bg-black/5 dark:hover:bg-white/5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:e.name}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Due on the ",function(e){let r=["th","st","nd","rd"],t=e%100;return e+(r[(t-20)%10]||r[t]||r[0])}(e.paymentDate)]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("p",{className:"font-mono text-foreground",children:(0,g.v)(e.amount)}),(0,n.jsx)(f.$,{variant:"ghost",size:"icon",onClick:()=>a(e.id),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-full","aria-label":"Delete ".concat(e.name," bill"),children:(0,n.jsx)(x.A,{className:"h-4 w-4"})})]})]},e.id))})]})]})}function j(e){let{label:r,value:t}=e;return(0,n.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,n.jsx)("p",{className:"text-muted-foreground",children:r}),(0,n.jsx)("p",{className:"font-mono font-medium text-lg text-foreground",children:t})]})}function N(e){let{income:r,totalBills:t,balance:s}=e,a=s<0;return(0,n.jsxs)(i.Zp,{className:"shadow-neumorphic border-none",children:[(0,n.jsxs)(i.aR,{children:[(0,n.jsx)(i.ZB,{children:"Summary"}),(0,n.jsx)(i.BT,{children:"Your financial overview for the month."})]}),(0,n.jsxs)(i.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(j,{label:"Total Income",value:(0,g.v)(r)}),(0,n.jsx)(j,{label:"Total Bills",value:(0,g.v)(t)})]}),(0,n.jsx)(v,{className:"bg-border/60"}),(0,n.jsxs)("div",{className:"flex justify-between items-center py-2 rounded-lg",children:[(0,n.jsx)("p",{className:"text-lg font-bold",children:"Remaining Balance"}),(0,n.jsx)("p",{className:"text-2xl font-bold font-mono ".concat(a?"text-destructive":"text-accent-foreground"),style:a?{}:{color:"hsl(var(--accent))"},children:(0,g.v)(s)})]})]})]})}v.displayName=p.b.displayName;var y=t(58995),w=t(79133),k=t(54811),_=t(83540),R=t(94517),C=t(24026);let B={light:"",dark:".dark"},A=s.createContext(null);function D(){let e=s.useContext(A);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let F=s.forwardRef((e,r)=>{let{id:t,className:a,children:l,config:o,...i}=e,c=s.useId(),d="chart-".concat(t||c.replace(/:/g,""));return(0,n.jsx)(A.Provider,{value:{config:o},children:(0,n.jsxs)("div",{"data-chart":d,ref:r,className:(0,g.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",a),...i,children:[(0,n.jsx)(I,{id:d,config:o}),(0,n.jsx)(_.u,{children:l})]})})});F.displayName="Chart";let I=e=>{let{id:r,config:t}=e,s=Object.entries(t).filter(e=>{let[,r]=e;return r.theme||r.color});return s.length?(0,n.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(B).map(e=>{let[t,n]=e;return"\n".concat(n," [data-chart=").concat(r,"] {\n").concat(s.map(e=>{var r;let[n,s]=e,a=(null==(r=s.theme)?void 0:r[t])||s.color;return a?"  --color-".concat(n,": ").concat(a,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},T=R.m,Z=s.forwardRef((e,r)=>{let{active:t,payload:a,className:l,indicator:o="dot",hideLabel:i=!1,hideIndicator:c=!1,label:d,labelFormatter:u,labelClassName:m,formatter:h,color:x,nameKey:f,labelKey:p}=e,{config:v}=D(),b=s.useMemo(()=>{var e;if(i||!(null==a?void 0:a.length))return null;let[r]=a,t="".concat(p||r.dataKey||r.name||"value"),s=M(v,r,t),l=p||"string"!=typeof d?null==s?void 0:s.label:(null==(e=v[d])?void 0:e.label)||d;return u?(0,n.jsx)("div",{className:(0,g.cn)("font-medium",m),children:u(l,a)}):l?(0,n.jsx)("div",{className:(0,g.cn)("font-medium",m),children:l}):null},[d,u,a,i,m,v,p]);if(!t||!(null==a?void 0:a.length))return null;let j=1===a.length&&"dot"!==o;return(0,n.jsxs)("div",{ref:r,className:(0,g.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[j?null:b,(0,n.jsx)("div",{className:"grid gap-1.5",children:a.map((e,r)=>{let t="".concat(f||e.name||e.dataKey||"value"),s=M(v,e,t),a=x||e.payload.fill||e.color;return(0,n.jsx)("div",{className:(0,g.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===o&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,r,e.payload):(0,n.jsxs)(n.Fragment,{children:[(null==s?void 0:s.icon)?(0,n.jsx)(s.icon,{}):!c&&(0,n.jsx)("div",{className:(0,g.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===o,"w-1":"line"===o,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===o,"my-0.5":j&&"dashed"===o}),style:{"--color-bg":a,"--color-border":a}}),(0,n.jsxs)("div",{className:(0,g.cn)("flex flex-1 justify-between leading-none",j?"items-end":"items-center"),children:[(0,n.jsxs)("div",{className:"grid gap-1.5",children:[j?b:null,(0,n.jsx)("span",{className:"text-muted-foreground",children:(null==s?void 0:s.label)||e.name})]}),e.value&&(0,n.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function M(e,r,t){if("object"!=typeof r||null===r)return;let n="payload"in r&&"object"==typeof r.payload&&null!==r.payload?r.payload:void 0,s=t;return t in r&&"string"==typeof r[t]?s=r[t]:n&&t in n&&"string"==typeof n[t]&&(s=n[t]),s in e?e[s]:e[t]}Z.displayName="ChartTooltip",C.s,s.forwardRef((e,r)=>{let{className:t,hideIcon:s=!1,payload:a,verticalAlign:l="bottom",nameKey:o}=e,{config:i}=D();return(null==a?void 0:a.length)?(0,n.jsx)("div",{ref:r,className:(0,g.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",t),children:a.map(e=>{let r="".concat(o||e.dataKey||"value"),t=M(i,e,r);return(0,n.jsxs)("div",{className:(0,g.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!s?(0,n.jsx)(t.icon,{}):(0,n.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";let E=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function z(e){let{bills:r,balance:t,income:a}=e,l=s.useMemo(()=>{let e=(r||[]).map((e,r)=>({name:e.name,value:e.amount,fill:E[r%E.length]}));return t>0&&e.push({name:"Remaining",value:t,fill:"hsl(var(--accent))"}),e},[r,t]),o=s.useMemo(()=>{let e={remaining:{label:"Remaining",color:"hsl(var(--accent))"}};return(r||[]).forEach((r,t)=>{e[r.name]={label:r.name,color:E[t%E.length]}}),e},[r]);return(0,n.jsxs)(i.Zp,{className:"shadow-neumorphic border-none flex flex-col",children:[(0,n.jsx)(i.aR,{className:"items-center pb-0",children:(0,n.jsx)(i.ZB,{children:"Spending Breakdown"})}),(0,n.jsx)(i.Wu,{className:"flex-1 pb-0",children:a>0&&l.length>0?(0,n.jsx)(F,{config:o,className:"mx-auto aspect-square max-h-[300px]",children:(0,n.jsxs)(y.r,{children:[(0,n.jsx)(T,{cursor:!1,content:(0,n.jsx)(Z,{hideLabel:!0})}),(0,n.jsx)(w.F,{data:l,dataKey:"value",nameKey:"name",innerRadius:60,strokeWidth:5,children:l.map(e=>(0,n.jsx)(k.f,{fill:e.fill,className:"focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2"},e.name))})]})}):(0,n.jsx)("div",{className:"flex items-center justify-center h-full min-h-[250px] text-muted-foreground text-center p-4",children:(0,n.jsx)("p",{children:"Enter your income and some bills to see a breakdown of your spending."})})})]})}var L=t(35317),K=t(52955);function W(){var e;let{firestore:r,user:t,isUserLoading:a}=(0,l.D3)(),o=(0,l.$e)(()=>t?(0,L.H9)(r,"users",t.uid):null,[r,t]),{data:i}=(0,l.uN)(o),c=null!=(e=null==i?void 0:i.monthlyIncome)?e:0,d=(0,l.$e)(()=>t?(0,L.rJ)(r,"users",t.uid,"bills"):null,[r,t]),{data:m}=(0,l.Ge)(d),h=(0,s.useMemo)(()=>(m||[]).reduce((e,r)=>e+r.amount,0),[m]),x=(0,s.useMemo)(()=>c-h,[c,h]);return a?(0,n.jsx)("div",{className:"text-center",children:"Loading..."}):(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,n.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-8",children:[(0,n.jsx)(u,{income:c,setIncome:e=>{if(o){let r=isNaN(e)||e<0?0:e;(0,K.wu)(o,{monthlyIncome:r},{merge:!0})}}}),(0,n.jsx)(b,{bills:m,addBill:(e,r,t)=>{!e||isNaN(r)||r<=0||!d||isNaN(t)||(0,K.BH)(d,{name:e,amount:r,paymentDate:t})},deleteBill:e=>{d&&(0,K.zb)((0,L.H9)(d,e))}})]}),(0,n.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-8",children:[(0,n.jsx)(N,{income:c,totalBills:h,balance:x}),(0,n.jsx)(z,{income:c,bills:m,balance:x})]})]})}var $=t(33349);function H(){let{user:e,isUserLoading:r,auth:t}=(0,l.D3)(),o=(0,a.useRouter)();return((0,s.useEffect)(()=>{r||e||o.push("/login")},[e,r,o]),r||!e)?(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsx)("p",{children:"Loading..."})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("main",{className:"container mx-auto p-4 md:p-8",children:[(0,n.jsxs)("header",{className:"flex justify-between items-center mb-12",children:[(0,n.jsxs)("div",{className:"text-left",children:[(0,n.jsx)("h1",{className:"text-4xl md:text-5xl font-headline font-bold text-foreground tracking-tight",children:"Anna's budget"}),(0,n.jsx)("p",{className:"text-muted-foreground mt-2 max-w-2xl",children:"A clean and simple way to track your monthly income and bills."})]}),(0,n.jsxs)(f.$,{variant:"ghost",onClick:()=>{t&&t.signOut()},className:"shadow-neumorphic active:shadow-neumorphic-inset",children:[(0,n.jsx)($.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),(0,n.jsx)(W,{},e.uid)]})})}},85057:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var n=t(95155),s=t(12115),a=t(40968),l=t(74466),o=t(59434);let i=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(a.b,{ref:r,className:(0,o.cn)(i(),t),...s})});c.displayName=a.b.displayName}},e=>{var r=r=>e(e.s=r);e.O(0,[992,644,530,718,930,441,684,358],()=>r(22799)),_N_E=e.O()}]);